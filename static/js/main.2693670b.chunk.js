(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(t){t.exports=[{id:1,title:"iPad 4 Mini",price:500.01,inventory:2},{id:2,title:"H&M T-Shirt White",price:10.99,inventory:10},{id:3,title:"Charli XCX - Sucker CD",price:19.99,inventory:5}]},25:function(t,e,n){t.exports=n(54)},54:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),u=n(19),i=n(6),a=n(21),o=function(t,e){return setTimeout(function(){return t(a)},e||100)},d=function(t,e,n){return setTimeout(function(){return e()},n||100)},l=n(22),s=n.n(l),p=n(2),f=(n(53),n(23)),v=n(3),h=n(5),E=n(24),y={addedIds:[],quantityById:{}},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.addedIds,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_TO_CART":return-1!==t.indexOf(e.productId)?t:[].concat(Object(E.a)(t),[e.productId]);default:return t}},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.quantityById,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_TO_CART":var n=e.productId;return Object(v.a)({},t,Object(h.a)({},n,(t[n]||0)+1));default:return t}},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CHECKOUT_REQUEST":return y;case"CHECKOUT_FAILURE":return e.cart;default:return{addedIds:m(t.addedIds,e),quantityById:I(t.quantityById,e)}}},O={loading:0,totalRequest:0},b=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:O).loading},g=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:O).totalRequest},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;switch((arguments.length>1?arguments[1]:void 0).type){case"START_LOADING":return t.totalRequest++,t;case"FINISH_LOADING":return t.loading++,t;default:return t}},_=Object(p.c)({byId:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_PRODUCTS":return Object(v.a)({},t,e.products.reduce(function(t,e){return t[e.id]=e,t},{}));default:var n=e.productId;return n?Object(v.a)({},t,Object(h.a)({},n,function(t,e){switch(e.type){case"ADD_TO_CART":return Object(v.a)({},t,{inventory:t.inventory-1});default:return t}}(t[n],e))):t}},visibleIds:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_PRODUCTS":return e.products.map(function(t){return t.id});default:return t}}}),A=function(t,e){return t.byId[e]},R=function(t){return t.visibleIds.map(function(e){return A(t,e)})},D=Object(p.c)({cart:C,loading:T,products:_}),S=function(t){return function(t){return t.addedIds}(t.cart)},j=function(t,e){return function(t,e){return t.quantityById[e]||0}(t.cart,e)},k=function(t,e){return A(t.products,e)},q=function(t){return S(t).reduce(function(e,n){return e+k(t,n).price*j(t,n)},0).toFixed(2)},w=function(t){return S(t).map(function(e){return Object(v.a)({},k(t,e),{quantity:j(t,e)})})},N=[f.a];var U=Object(p.d)(D,p.a.apply(void 0,N)),H=s.a.create();H.interceptors.request.use(function(t){return U.dispatch({type:"START_LOADING"}),t},function(t){return U.dispatch({type:"FINISH_LOADING"}),Promise.reject(t)}),H.interceptors.response.use(function(t){return U.dispatch({type:"FINISH_LOADING"}),t},function(t){return U.dispatch({type:"FINISH_LOADING"}),Promise.reject(t)});var P=H,x=function(t){return{type:"RECEIVE_PRODUCTS",products:t}},B=function(){return function(t){P.get("https://api.saharbazar.com/stories").then(function(e){console.log(e),o(function(e){t(x(e))})}).catch(function(t){console.log(t)})}},L=function(t){var e=t.price,n=t.quantity,r=t.title;return c.a.createElement("div",null,r," - $",e,n?" x ".concat(n):null)},F=function(t){var e=t.product,n=t.onAddToCartClicked;return c.a.createElement("div",{style:{marginBottom:20}},c.a.createElement(L,{title:e.title,price:e.price,quantity:e.inventory}),c.a.createElement("button",{onClick:n,disabled:e.inventory>0?"":"disabled"},e.inventory>0?"Add to cart":"Sold Out"))},G=function(t){var e=t.title,n=t.children;return c.a.createElement("div",null,c.a.createElement("h3",null,e),c.a.createElement("div",null,n))},K=Object(i.b)(function(t){return{products:R(t.products),loading:b(),totalRequest:g()}},{addToCart:function(t){return function(e,n){n().products.byId[t].inventory>0&&e(function(t){return{type:"ADD_TO_CART",productId:t}}(t))}}})(function(t){var e=t.products,n=t.addToCart,r=t.loading,u=t.totalRequest;return c.a.createElement("div",null,c.a.createElement("progress",{id:"progressbar",className:"progress is-large is-info",max:u,value:r}),c.a.createElement(G,{title:"Products"},e.map(function(t){return c.a.createElement(F,{key:t.id,product:t,onAddToCartClicked:function(){return n(t.id)}})})))}),V=function(t){var e=t.products,n=t.total,r=t.onCheckoutClicked,u=e.length>0,i=u?e.map(function(t){return c.a.createElement(L,{title:t.title,price:t.price,quantity:t.quantity,key:t.id})}):c.a.createElement("em",null,"Please add some products to cart.");return c.a.createElement("div",null,c.a.createElement("h3",null,"Your Cart"),c.a.createElement("div",null,i),c.a.createElement("p",null,"Total: $",n),c.a.createElement("button",{onClick:r,disabled:u?"":"disabled"},"Checkout"))},J=Object(i.b)(function(t){return{products:w(t),total:q(t)}},{checkout:function(t){return function(e,n){var r=n().cart;e({type:"CHECKOUT_REQUEST"}),d(t,function(){e({type:"CHECKOUT_SUCCESS",cart:r})})}}})(function(t){var e=t.products,n=t.total,r=t.checkout;return c.a.createElement(V,{products:e,total:n,onCheckoutClicked:function(){return r(e)}})}),M=function(){return c.a.createElement("div",null,c.a.createElement("h2",null,"Shopping Cart Example"),c.a.createElement("hr",null),c.a.createElement(K,null),c.a.createElement("hr",null),c.a.createElement(J,null))};U.dispatch(function(t){o(function(e){t(x(e))})}),U.dispatch(B()),U.dispatch(B()),U.dispatch(B()),U.dispatch(B()),Object(u.render)(c.a.createElement(i.a,{store:U},c.a.createElement(M,null)),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.2693670b.chunk.js.map